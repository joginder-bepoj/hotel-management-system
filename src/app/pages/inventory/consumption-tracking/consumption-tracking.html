<section class="content">
    <div class="content-block">
        <div class="block-header">
            <app-breadcrumb [title]="'Consumption Tracking'" [items]="['Home', 'Inventory']"
                [active_item]="'Consumption'">
            </app-breadcrumb>
        </div>
        <div class="row clearfix">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card">
                    <div class="header">
                        <h2>Consumption Tracking</h2>
                    </div>
                    <div class="body">
                        <div class="consumption-tracking">
                            <div class="date-range mb-4">
                                <mat-form-field appearance="outline">
                                    <mat-label>Start Date</mat-label>
                                    <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDate">
                                    <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                                    <mat-datepicker #startPicker></mat-datepicker>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-label>End Date</mat-label>
                                    <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDate">
                                    <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                                    <mat-datepicker #endPicker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="row mb-4 gy-2">
                                <div class="col-md-6" *ngFor="let dept of consumptionData">
                                    <mat-card class="dept-card">
                                        <mat-card-content>
                                            <h3>{{ dept.department }}</h3>
                                            <div class="stats">
                                                <div><span class="label">Items Consumed:</span> <span class="value">{{ dept.items }}</span></div>
                                                <div><span class="label">Total Value:</span> <span class="value">â‚¹{{ dept.totalValue | number }}</span></div>
                                                <div><span class="label">Trend:</span> <mat-icon [ngClass]="'trend-' + dept.trend">{{ dept.trend === 'up' ? 'trending_up' : dept.trend === 'down' ? 'trending_down' : 'trending_flat' }}</mat-icon></div>
                                            </div>
                                        </mat-card-content>
                                    </mat-card>
                                </div>
                            </div>
                            <mat-card>
                                <mat-card-header><h3>Top Consumed Items</h3></mat-card-header>
                                <mat-card-content>
                                    <div class="top-items">
                                        <div *ngFor="let item of topItems" class="item-row">
                                            <span class="name">{{ item.name }}</span>
                                            <span class="quantity">{{ item.quantity }} {{ item.unit }}</span>
                                        </div>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>