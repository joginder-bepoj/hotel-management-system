<section class="content">
    <div class="content-block">
        <div class="block-header">
            <app-breadcrumb [title]="'Guest Registration'" [items]="['Home', 'Front Office']"
                [active_item]="'Guest Registration'">
            </app-breadcrumb>
        </div>
        <div class="row clearfix">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card">
                    <div class="header">
                        <h2>New Guest Registration</h2>
                    </div>
                    <div class="body">
                        <mat-stepper [linear]="true" #stepper>
                            <!-- Step 1: Personal Details -->
                            <mat-step [stepControl]="personalFormGroup">
                                <form [formGroup]="personalFormGroup">
                                    <ng-template matStepLabel>Personal Details</ng-template>
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>First Name</mat-label>
                                                <input matInput formControlName="firstName" required>
                                                <mat-error
                                                    *ngIf="personalFormGroup.get('firstName')?.hasError('required')">
                                                    First name is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Last Name</mat-label>
                                                <input matInput formControlName="lastName" required>
                                                <mat-error
                                                    *ngIf="personalFormGroup.get('lastName')?.hasError('required')">
                                                    Last name is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Email</mat-label>
                                                <input matInput formControlName="email" required>
                                                <mat-error *ngIf="personalFormGroup.get('email')?.hasError('required')">
                                                    Email is required
                                                </mat-error>
                                                <mat-error *ngIf="personalFormGroup.get('email')?.hasError('email')">
                                                    Please enter a valid email
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Phone</mat-label>
                                                <input matInput formControlName="phone" required>
                                                <mat-error *ngIf="personalFormGroup.get('phone')?.hasError('required')">
                                                    Phone is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Date of Birth</mat-label>
                                                <input matInput [matDatepicker]="picker" formControlName="dob" required>
                                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                <mat-datepicker #picker></mat-datepicker>
                                                <mat-error *ngIf="personalFormGroup.get('dob')?.hasError('required')">
                                                    Date of birth is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div>
                                        <button mat-raised-button color="primary" matStepperNext>Next</button>
                                    </div>
                                </form>
                            </mat-step>

                            <!-- Step 2: Identification -->
                            <mat-step [stepControl]="identityFormGroup">
                                <form [formGroup]="identityFormGroup">
                                    <ng-template matStepLabel>Identification</ng-template>
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>ID Type</mat-label>
                                                <mat-select formControlName="idType" required>
                                                    <mat-option value="passport">Passport</mat-option>
                                                    <mat-option value="national_id">National ID</mat-option>
                                                    <mat-option value="driving_license">Driving License</mat-option>
                                                </mat-select>
                                                <mat-error
                                                    *ngIf="identityFormGroup.get('idType')?.hasError('required')">
                                                    ID Type is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>ID Number</mat-label>
                                                <input matInput formControlName="idNumber" required>
                                                <mat-error
                                                    *ngIf="identityFormGroup.get('idNumber')?.hasError('required')">
                                                    ID Number is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Expiry Date</mat-label>
                                                <input matInput [matDatepicker]="picker2" formControlName="expiryDate">
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="picker2"></mat-datepicker-toggle>
                                                <mat-datepicker #picker2></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div>
                                        <button mat-button matStepperPrevious>Back</button>
                                        <button mat-raised-button color="primary" matStepperNext>Next</button>
                                    </div>
                                </form>
                            </mat-step>

                            <!-- Step 3: Address -->
                            <mat-step [stepControl]="addressFormGroup">
                                <form [formGroup]="addressFormGroup">
                                    <ng-template matStepLabel>Address</ng-template>
                                    <div class="row">
                                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Street Address</mat-label>
                                                <input matInput formControlName="street" required>
                                                <mat-error *ngIf="addressFormGroup.get('street')?.hasError('required')">
                                                    Street address is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>City</mat-label>
                                                <input matInput formControlName="city" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>State/Province</mat-label>
                                                <input matInput formControlName="state" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Zip/Postal Code</mat-label>
                                                <input matInput formControlName="zip" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Country</mat-label>
                                                <input matInput formControlName="country" required>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div>
                                        <button mat-button matStepperPrevious>Back</button>
                                        <button mat-raised-button color="primary" matStepperNext>Next</button>
                                    </div>
                                </form>
                            </mat-step>

                            <!-- Step 4: Preferences & Confirmation -->
                            <mat-step [stepControl]="preferenceFormGroup">
                                <form [formGroup]="preferenceFormGroup">
                                    <ng-template matStepLabel>Preferences</ng-template>
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Room Type Preference</mat-label>
                                                <mat-select formControlName="roomType" required>
                                                    <mat-option value="single">Single</mat-option>
                                                    <mat-option value="double">Double</mat-option>
                                                    <mat-option value="suite">Suite</mat-option>
                                                    <mat-option value="deluxe">Deluxe</mat-option>
                                                </mat-select>
                                                <mat-error
                                                    *ngIf="preferenceFormGroup.get('roomType')?.hasError('required')">
                                                    Room type is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width" appearance="outline">
                                                <mat-label>Special Requests</mat-label>
                                                <textarea matInput formControlName="specialRequests"></textarea>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div>
                                        <button mat-button matStepperPrevious>Back</button>
                                        <button mat-raised-button color="primary" (click)="onSubmit()">Register
                                            Guest</button>
                                    </div>
                                </form>
                            </mat-step>
                        </mat-stepper>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>